<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:m="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Работа №3</title>
    <link rel="stylesheet" href="../css/style.css"/>
    <link rel="stylesheet" href="../css/form_style.css"/>
    <link rel="stylesheet" href="../css/buttons_style.css"/>
    <script type="application/javascript" src="../js/response.js"></script>
</h:head>
<h:body>
    <div class="header">
        <m:include src="../views/headersNames.xhtml"/>
    </div>
    <div class="content">
        <div class="block">
            <div class="block__column">
                <div class="block__item" id="itemBlockWithSVG">
                    <div class="block__svg" id="svg_wrapper">
                        <svg class='svg_axis' xmlns="http://www.w3.org/2000/svg" width="300" height="300">

                            <!-- draw axis - -->
                            <line x1="0" y1="150" x2="300" y2="150" stroke="#003"></line>
                            <line x1="150" y1="0" x2="150" y2="300" stroke="#003"></line>
                            <polygon points="300,150 295,145 295,155" fill="#003" stroke="#000"></polygon>
                            <polygon points="150,0 145,5 155,5" fill="#003" stroke="#000"></polygon>
                            <line x1="270" y1="155" x2="270" y2="145" stroke="#000"></line>
                            <text x="265" y="140" class="axis-text" id="radius-text-right">R</text>
                            <line x1="210" y1="155" x2="210" y2="145" stroke="#000"></line>
                            <text x="200" y="140" class="axis-text" id="radius-text-right-half">R/2</text>
                            <line x1="90" y1="155" x2="90" y2="145" stroke="#000"></line>
                            <text x="75" y="140" class="axis-text" id="radius-text-left-half">-R/2</text>
                            <line x1="30" y1="155" x2="30" y2="145" stroke="#000"></line>
                            <text x="23" y="140" class="axis-text" id="radius-text-left">-R</text>
                            <line x1="145" y1="30" x2="155" y2="30" stroke="#000"></line>
                            <text x="157" y="35" class="axis-text" id="radius-text-top">R</text>
                            <line x1="145" y1="90" x2="155" y2="90" stroke="#000"></line>
                            <text x="157" y="95" class="axis-text" id="radius-text-top-half">R/2</text>
                            <line x1="145" y1="210" x2="155" y2="210" stroke="#000"></line>
                            <text x="157" y="215" class="axis-text" id="radius-text-bottom-half">-R/2</text>
                            <line x1="145" y1="270" x2="155" y2="270" stroke="#000"></line>
                            <text x="157" y="275" class="axis-text" id="radius-text-bottom">-R</text>

                            <!-- draw figures - -->
                            <polygon points="90,150 150,30 150,150" fill="#00f" stroke="#003"
                                     fill-opacity="0.5"></polygon>
                            <rect height="120" width="60" x="150" y="150" fill-opacity="0.5" fill="#a0f"
                                  stroke="#003"></rect>
                            <path stroke="#003" d="M 270,150 L 150,150 L 150,90 A 60,60 0 0 1 210,150"
                                  fill-opacity="0.5"></path>

                        </svg>
                    </div>
                </div>
            </div>
            <div class="block__column">
                <div class="block__item">
                    <div class='style_block'>
                        <h:form class="form" id="_form">
<!--                            onsubmit="return validation()-->
                            <!--X Coordinate-->
                            <div class="item_x" id="checkbox_x">
                                <label> Координата X
                                    <h:inputText id="x_value" name="X" value="#{pointBean.x}" style="display: none; visibility: hidden"/>
                                    <p:selectBooleanCheckbox class="x_value" itemLabel="-3" value="-3" onchange="setx(-3)"/>
                                    <p:selectBooleanCheckbox class="x_value" itemLabel="-2" value="-2" onchange="setx(-2)"/>
                                    <p:selectBooleanCheckbox class="x_value" itemLabel="-1" value="-1" onchange="setx(-1)"/>
                                    <p:selectBooleanCheckbox class="x_value" itemLabel="0" value="0" onchange="setx(0)"/>
                                    <p:selectBooleanCheckbox class="x_value" itemLabel="1" value="1" onchange="setx(1)"/>
                                    <p:selectBooleanCheckbox class="x_value" itemLabel="2" value="2" onchange="setx(2)"/>
                                    <p:selectBooleanCheckbox class="x_value" itemLabel="3" value="3" onchange="setx(3)"/>
                                    <br/>
                                </label>
                            </div>

                            <!--Y Coordinate-->
                            <div class="item_y">
                                <label> Координата Y -
                                    <h:inputText name="Y" value="#{pointBean.y}"/>
                                </label>
                            </div>

                            <!--R Radius-->
                            <div class="item_radius">
                                <label id="r_value"> Радиус R
                                    <h:inputText name="R" value="#{pointBean.r}"/>
                                </label>
                            </div>

                            <!--Buttons-->
                            <div>
                                <h:commandButton value="Создать точку" action="#{pointBean.addToDB}">
                                    <f:ajax execute="_form" render="pointsTable"/>
                                </h:commandButton>
                            </div>

                        </h:form>
                    </div>
                    <div>
                        <div class="mobile-table">
                            <h:panelGroup id="pointsTable">
                                <h:dataTable class="iksweb" value="#{entryBean.dataList}" var="entry"
                                             >
                                    <h:column>
                                        <f:facet name="header">X</f:facet>
                                        <h:outputText type="number" value="#{entry.x}"/>
                                    </h:column>

                                    <h:column>
                                        <f:facet name="header">Y</f:facet>
                                        <h:outputText type="number" value="#{entry.y}"/>
                                    </h:column>

                                    <h:column>
                                        <f:facet name="header">R</f:facet>
                                        <h:outputText type="number" value="#{entry.r}"/>
                                    </h:column>

                                    <h:column>
                                        <f:facet name="header">Попал?</f:facet>
                                        <h:outputText value="#{entry.hit}"/>
                                    </h:column>

                                    <h:column>
                                        <f:facet name="header">Время отправки</f:facet>
                                        <h:outputText value="#{entry.dateCreation}"/>
                                    </h:column>
                                </h:dataTable>
                            </h:panelGroup>
                        </div>
                        <h:form>
                            <h:commandButton id="clean_button" value="Очистить таблицу" action="#{entryBean.cleanList}">
                                <f:ajax render="pointsTable"/>
                            </h:commandButton>
                        </h:form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</h:body>
</html>
